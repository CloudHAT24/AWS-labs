import boto3
import json
import os
from botocore.exceptions import ClientError

def lambda_handler(event, context):
    # Initialize the DynamoDB client
    dynamodb = boto3.client('dynamodb')

    # Define the table name
    table_name = 'Asset-list'  # Change this to the name of your table
    
    try:
        # Delete the DynamoDB table
        response = dynamodb.delete_table(
            TableName=table_name
        )
        # Log the table deletion success
        return {
            'statusCode': 200,
            'body': f"Table {table_name} deleted successfully!"
        }
    except ClientError as e:
        # Log any errors encountered during table deletion
        return {
            'statusCode': 400,
            'body': f"Error deleting table: {e.response['Error']['Message']}"
        }
